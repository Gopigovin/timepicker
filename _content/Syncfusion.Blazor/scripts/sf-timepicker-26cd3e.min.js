(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{"./bundles/sf-timepicker.js":function(e,t,s){"use strict";s.r(t);s("./modules/sf-timepicker.js")},"./modules/sf-timepicker.js":function(e,t){window.sfBlazor=window.sfBlazor||{},window.sfBlazor.TimePicker=function(){"use strict";var e=(new Date).getDate(),t=(new Date).getMonth(),s=(new Date).getFullYear(),i=function(){function i(e,t,s,i){this.wrapperElement=e,this.element=t,this.options=i,this.element.blazor__instance=this,this.dotNetRef=s}return i.prototype.initialize=function(){this.clearElement=this.wrapperElement.querySelector(".e-clear-icon"),this.timeIconElement=this.wrapperElement.querySelector(".e-time-icon.e-icons")},i.prototype.renderPopup=function(e,t,s,i){this.options=i,this.popupHolder=t,this.timeCollections=[],this.listWrapper=sf.base.select(".e-content",this.calendarElement),this.getTimeCollection(),this.wireListEvents(),null!=this.element.value&&""!=this.element.value&&(this.selectedElement=this.listWrapper.querySelector('li[data-value = "'+this.element.value+'"]'),this.selectedElement&&sf.base.addClass([this.selectedElement],"e-active")),this.popupCreation(e,i),sf.base.Browser.isDevice&&(this.mobilePopupWrapper=sf.base.createElement("div",{className:"e-timepicker-mob-popup-wrap"}),document.body.appendChild(this.mobilePopupWrapper)),("model"===s.appendTo?this.mobilePopupWrapper:document.body).appendChild(this.popupWrapper),this.setScrollPosition(),this.popupObj.refreshPosition(this.element);var o={name:"FadeIn",duration:sf.base.Browser.isDevice?0:300};1e3===this.options.zIndex?this.popupObj.show(new sf.base.Animation(o),this.element):this.popupObj.show(new sf.base.Animation(o),null),this.setOverlayIndex(this.mobilePopupWrapper,this.popupObj.element,this.modal,sf.base.Browser.isDevice),sf.base.EventHandler.add(document,"mousedown touchstart",this.documentClickHandler,this)},i.prototype.getTimeCollection=function(){for(var e=this.listWrapper.querySelectorAll(".e-list-item"),t=0;t<e.length;t++)this.timeCollections.push(e[t].getAttribute("data-value"))},i.prototype.setScrollPosition=function(){var e;e=this.selectedElement,sf.base.isNullOrUndefined(e)?this.popupWrapper&&new Date(this.options.scrollTo)&&this.checkDateValue(new Date(this.options.scrollTo))&&this.setScrollTo():this.findScrollTop(e)},i.prototype.checkDateValue=function(e){return!sf.base.isNullOrUndefined(e)&&e instanceof Date&&!isNaN(+e)?e:null},i.prototype.findScrollTop=function(e){var t=this.getPopupHeight(),s=e.nextElementSibling,i=s?s.offsetTop:e.offsetTop,o=e.getBoundingClientRect().height;i+e.offsetTop>t?this.popupWrapper.scrollTop=s?i-(t/2+o/2):i:this.popupWrapper.scrollTop=0},i.prototype.setScrollTo=function(){var e;if(sf.base.isNullOrUndefined(this.popupWrapper))this.popupWrapper.scrollTop=0;else{var t=this.popupWrapper.querySelectorAll(".e-list-item");if(t.length){var s=new Date((new Date).toDateString()+" "+this.timeCollections[0]).setMilliseconds(0),i=this.getDateObject(new Date(this.options.scrollTo)).getTime();e=t[Math.round((i-s)/(6e4*this.options.step))]}}sf.base.isNullOrUndefined(e)?this.popupWrapper.scrollTop=0:this.findScrollTop(e)},i.prototype.getDateObject=function(i){if(!sf.base.isNullOrUndefined(i)){var o=i,n=!sf.base.isNullOrUndefined(new Date(this.options.value));if(this.checkDateValue(o)){var p=n?new Date(this.options.value).getDate():e,r=n?new Date(this.options.value).getMonth():t,l=n?new Date(this.options.value).getFullYear():s;return new Date(l,r,p,o.getHours(),o.getMinutes(),o.getSeconds())}}return null},i.prototype.getPopupHeight=function(){var e=parseInt("240px",10),t=this.popupWrapper.getBoundingClientRect().height;return t>e?e:t},i.prototype.popupCreation=function(e,t){var s=this;this.popupWrapper=e,this.containerStyle=this.wrapperElement.getBoundingClientRect(),sf.base.Browser.isDevice&&(this.modal=sf.base.createElement("div"),this.modal.className="e-timepicker e-time-modal",document.body.className+=" e-time-overflow",this.modal.style.display="block",document.body.appendChild(this.modal)),this.popupObj=new sf.popups.Popup(this.popupWrapper,{width:this.setPopupWidth(t.width),content:this.calendarElement,relateTo:sf.base.Browser.isDevice?document.body:this.wrapperElement,position:sf.base.Browser.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},collision:sf.base.Browser.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},offsetY:4,targetType:"relative",enableRtl:t.enableRtl,zIndex:t.zIndex,open:function(){s.popupWrapper.style.visibility="visible"},close:function(){s.unWireListEvents(),s.popupHolder.appendChild(s.popupWrapper),s.popupObj&&s.popupObj.destroy(),s.dotNetRef.invokeMethodAsync("ClosePopup"),s.popupObj=null},targetExitViewport:function(){sf.base.Browser.isDevice||s.dotNetRef.invokeMethodAsync("HidePopup",null)}}),sf.base.Browser.isDevice||(this.popupObj.collision={X:"none",Y:"flip"}),this.popupObj.element.style.maxHeight="240px"},i.prototype.closePopup=function(e,t){this.options=t,this.closeEventCallback(e)},i.prototype.wireListEvents=function(){sf.base.EventHandler.add(this.listWrapper,"click",this.onMouseClick,this),sf.base.Browser.isDevice||(sf.base.EventHandler.add(this.listWrapper,"mouseover",this.onMouseOver,this),sf.base.EventHandler.add(this.listWrapper,"mouseout",this.onMouseLeave,this))},i.prototype.onMouseClick=function(e){var t=e.target,s=this.selectedElement=sf.base.closest(t,".e-list-item"),i=s.getAttribute("data-value");this.isValidLI(s)&&!s.classList.contains("e-active")?(this.removeSelection(),sf.base.addClass([this.selectedElement],"e-active"),this.selectedElement.setAttribute("aria-selected","true"),this.dotNetRef.invokeMethodAsync("OnListItemClick",i,e)):this.dotNetRef.invokeMethodAsync("HidePopup",e)},i.prototype.onMouseOver=function(e){var t=sf.base.closest(e.target,".e-list-item");this.setHover(t,"e-hover")},i.prototype.setHover=function(e,t){this.isValidLI(e)&&!e.classList.contains(t)&&(this.removeHover(t),sf.base.addClass([e],t),"e-navigation"===t&&e.setAttribute("aria-selected","true"))},i.prototype.removeSelection=function(){if(this.removeHover("e-hover"),!sf.base.isNullOrUndefined(this.popupWrapper)){var e=this.popupWrapper.querySelectorAll(".e-active");e.length&&(sf.base.removeClass(e,"e-active"),e[0].removeAttribute("aria-selected"))}},i.prototype.removeHover=function(e){var t=this.popupWrapper?this.popupWrapper.querySelectorAll("."+e):[];t&&t.length&&(sf.base.removeClass(t,e),"e-navigation"===e&&t[0].removeAttribute("aria-selected"))},i.prototype.isValidLI=function(e){return e&&e.classList.contains("e-list-item")&&!e.classList.contains("e-disabled")},i.prototype.onMouseLeave=function(){this.removeHover("e-hover")},i.prototype.unWireListEvents=function(){this.listWrapper&&(sf.base.EventHandler.remove(this.listWrapper,"click",this.onMouseClick),sf.base.Browser.isDevice||(sf.base.EventHandler.remove(this.listWrapper,"mouseover",this.onMouseOver),sf.base.EventHandler.remove(this.listWrapper,"mouseout",this.onMouseLeave)))},i.prototype.setWidth=function(e){return e="number"==typeof e?sf.base.formatUnit(e):"string"==typeof e?e.match(/px|%|em/)?e:sf.base.formatUnit(e):"100%"},i.prototype.setPopupWidth=function(e){(e=this.setWidth(e)).indexOf("%")>-1&&(e=(this.containerStyle.width*parseFloat(e)/100).toString()+"px");return e},i.prototype.closeEventCallback=function(e){var t=e;if(this.isPopupOpen()&&!t.cancel&&this.popupObj){var s={name:"FadeOut",duration:50,delay:0};this.popupObj.hide(new sf.base.Animation(s))}sf.base.Browser.isDevice&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null),sf.base.Browser.isDevice&&(sf.base.isNullOrUndefined(this.mobilePopupWrapper)||(this.mobilePopupWrapper.remove(),this.mobilePopupWrapper=null)),sf.base.EventHandler.remove(document,"mousedown touchstart",this.documentClickHandler)},i.prototype.isPopupOpen=function(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains("e-timepicker"))},i.prototype.documentClickHandler=function(e){var t=e.target;!sf.base.isNullOrUndefined(this.popupObj)&&(this.wrapperElement.contains(t)||this.popupObj.element&&this.popupObj.element.contains(t))&&"touchstart"!==e.type&&e.preventDefault(),sf.base.closest(t,".e-popup-wrapper")||t===this.element||t===this.timeIconElement||t===this.clearElement||t===this.wrapperElement||this.isPopupOpen()&&this.dotNetRef.invokeMethodAsync("HidePopup",null)},i.prototype.setOverlayIndex=function(e,t,s,i){if(i&&!sf.base.isNullOrUndefined(t)&&!sf.base.isNullOrUndefined(s)&&!sf.base.isNullOrUndefined(e)){var o=parseInt(t.style.zIndex,10)?parseInt(t.style.zIndex,10):1e3;s.style.zIndex=(o-1).toString(),e.style.zIndex=o.toString()}},i.prototype.selectInputText=function(e){sf.base.Browser.isDevice||e.setSelectionRange(0,e.value.length)},i}();return{initialize:function(e,t,s,o){new i(e,t,s,o),t.blazor__instance.initialize()},renderPopup:function(e,t,s,i,o){t&&s&&e.blazor__instance.renderPopup(t,s,i,o)},closePopup:function(e,t,s){e.blazor__instance.closePopup(t,s)},selectInputText:function(e){e.blazor__instance.selectInputText(e)},focusIn:function(e){e.focus()},focusOut:function(e){e.blur()}}}()}}]);